# 히포's Tech Blog - 설계 문서

## 📅 작성 정보
- **작성일**: 2025-10-24
- **최종 수정**: 2025-10-24
- **버전**: 1.0

---

## 🎯 블로그 방향성

### 핵심 정의
- **이름**: 히포's Tech Blog
- **성격**: 기술 블로그 + 일상 기록 + 포트폴리오
- **목적**:
  - 프로젝트 만들면서 배우는 내용 기록
  - 기술 공부 내용 정리 및 공유
  - 일상 생활 이야기
  - 포트폴리오 쇼케이스
- **공개 범위**: 누구나 읽을 수 있는 공개 블로그 (SEO 중요!)

### 사용자 구조
```
┌─────────────────┬──────────────────┬─────────────────┐
│   역할          │   인증 방식       │   권한          │
├─────────────────┼──────────────────┼─────────────────┤
│ 관리자 (나)     │ ID/PW + JWT      │ 글 작성/수정/삭제│
│ 일반 방문자     │ 로그인 불필요    │ 글 읽기         │
│ 댓글 작성자     │ GitHub OAuth     │ 댓글 작성/삭제  │
└─────────────────┴──────────────────┴─────────────────┘
```

### 에디터 스타일
- **기본**: 마크다운 기반
- **목표**: Notion/Obsidian 스타일 실시간 미리보기
- **필수**: 코드 하이라이팅

---

## 🚀 Phase별 기능 계획

### Phase 1: 핵심 블로그 기능 (MVP)

**목표**: 배포하고 실제 글 작성 시작!

#### 1. 관리자 인증
- [ ] 관리자 로그인 (ID/PW)
- [ ] JWT 토큰 기반 인증
- [ ] 로그인 페이지
- [ ] 로그아웃 기능

#### 2. 글 작성/관리 (CRUD)
- [ ] 글 작성 (CREATE)
  - 제목 입력
  - 내용 입력 (마크다운)
  - 카테고리 선택
- [ ] 글 목록 (READ)
  - 최신순 정렬
  - 카테고리별 필터링
  - 제목, 작성일, 카테고리 표시
- [ ] 글 상세 보기 (READ)
  - 마크다운 → HTML 렌더링
  - 코드 하이라이팅 (syntax-highlighter)
  - 작성일/수정일 표시
- [ ] 글 수정 (UPDATE)
  - 관리자만 수정 버튼 보임
  - 기존 내용 불러오기
- [ ] 글 삭제 (DELETE)
  - 관리자만 삭제 버튼
  - 삭제 확인 모달

#### 3. 카테고리
- [ ] 고정 카테고리 3개
  - 기술 (Tech)
  - 일상 (Life)
  - 프로젝트 (Project)
- [ ] 카테고리별 필터링
- [ ] 카테고리 메뉴 (헤더 또는 사이드바)

#### 4. 에디터
- [ ] 기본 마크다운 에디터
  - Textarea (마크다운 입력)
  - 탭 전환: 작성 / 미리보기
  - 코드 하이라이팅 미리보기
- [ ] 마크다운 렌더링 라이브러리 선택

#### 5. 프론트엔드 페이지
- [ ] 홈 (/)
  - 최근 글 목록
- [ ] 글 목록 (/posts)
  - 전체 글 목록
  - 카테고리 필터
- [ ] 글 상세 (/posts/:id)
  - 글 내용 표시
- [ ] 글 작성 (/posts/new)
  - 관리자만 접근
- [ ] 글 수정 (/posts/:id/edit)
  - 관리자만 접근
- [ ] 로그인 (/login)
  - 관리자 로그인

---

### Phase 2: 소통 기능

**목표**: GitHub OAuth 학습 및 댓글 시스템 구현

#### 1. GitHub OAuth
- [ ] GitHub OAuth 설정
- [ ] OAuth 로그인 플로우
- [ ] 사용자 정보 저장 (GitHub 프로필)

#### 2. 댓글 시스템
- [ ] 댓글 작성 (GitHub 로그인 필요)
- [ ] 댓글 목록 표시
- [ ] 댓글 삭제 (본인 + 관리자)
- [ ] 작성자 GitHub 프로필 표시 (아바타, 이름)

---

### Phase 3: 배포 & 안정화

**목표**: 시놀로지 NAS 배포

#### 배포 환경
- [ ] Docker 컨테이너화
- [ ] Docker Compose 설정
- [ ] Nginx 리버스 프록시
- [ ] SSL 인증서 (Let's Encrypt)
- [ ] 도메인 연결

#### 안정화
- [ ] 에러 핸들링
- [ ] 로깅 시스템
- [ ] 환경 변수 관리 (dev/prod)

---

### Phase 4: 향상 기능 (선택사항)

#### 고급 에디터
- [ ] Notion 스타일 실시간 에디터
- [ ] 이미지 업로드
- [ ] 이미지 최적화

#### 검색 & 필터링
- [ ] 태그 시스템
- [ ] 제목/내용 검색
- [ ] 태그별 글 목록

#### 기타
- [ ] About 페이지
- [ ] 조회수 카운트
- [ ] 관련 글 추천
- [ ] RSS 피드
- [ ] SEO 최적화 (메타 태그, sitemap)

---

## ❓ 미결정 사항 (다음에 논의)

### Phase 1 세부 기능
- [ ] **관리자 회원가입 기능 필요?**
  - Option A: DB에 직접 관리자 계정 1개 넣기
  - Option B: 회원가입 기능 만들기 (나중에 팀원 추가 가능)

- [ ] **글 공개/비공개 기능?**
  - 초안 작성 중에는 비공개로 하고 싶을 수도?
  - Phase 1에 넣을지, 나중에 넣을지

- [ ] **임시저장 기능?**
  - 글 작성 중 임시저장
  - Phase 1에는 빼고 나중에?

- [ ] **페이지네이션 vs 무한 스크롤?**
  - 글 목록이 많아지면 어떻게 처리?

- [ ] **마크다운 에디터 라이브러리 선택?**
  - react-simplemde-editor (간단)
  - toast-ui-editor (중간)
  - 직접 구현 (학습용)

- [ ] **마크다운 렌더링 라이브러리?**
  - react-markdown (인기)
  - marked (가볍)

### Phase 2 세부 기능
- [ ] **대댓글 기능?**
  - 댓글의 댓글
  - Phase 2에 바로 넣을지, Phase 4로 미룰지

- [ ] **댓글 좋아요?**
  - 필요한가?

### 데이터베이스 설계
- [ ] 테이블 구조 설계
- [ ] 필드 정의
- [ ] 관계 설정 (1:N, N:M)
- [ ] 인덱스 전략

### API 설계
- [ ] RESTful API 엔드포인트 정의
- [ ] 요청/응답 타입 정의
- [ ] 에러 응답 형식

### 프론트엔드 설계
- [ ] 페이지 라우팅 구조
- [ ] 컴포넌트 구조
- [ ] 상태 관리 전략 (TanStack Query + Zustand)

### 인증/권한
- [ ] JWT 저장 위치 (localStorage? httpOnly cookie?)
- [ ] 토큰 갱신 전략
- [ ] 권한 체크 방식 (미들웨어? Guard?)

---

## 📝 논의 히스토리

### 2025-10-24 (1차 논의)

#### 논의 주제
1. ✅ **블로그 방향성 결정**
   - 히포's Tech Blog
   - 기술 + 일상 + 프로젝트
   - 나만 글 작성, GitHub OAuth로 댓글

2. ✅ **MVP 범위 선택**
   - Option 1.5 선택 (절충안)
   - Phase 1 완성 후 배포 & 글 작성 시작
   - GitHub OAuth 학습 목적 포함

3. 🔄 **Phase 1 세부 기능 (진행 중)**
   - 필수 기능 정리 완료
   - 미결정 사항 리스트업
   - → 다음 세션에 계속

#### 결정 사항
- 모노레포 구조 확정 (Turborepo + pnpm)
- TanStack Query + Zustand 상태 관리
- React + Vite 프론트엔드
- NestJS 백엔드
- PostgreSQL + Prisma 데이터베이스

#### 다음 논의 예정
- Phase 1 미결정 사항 확정
- 데이터베이스 스키마 설계
- API 엔드포인트 설계
- 프론트엔드 페이지 구조 설계
- 인증/권한 전략 상세 설계

---

## 📌 참고 사항

### 유사 블로그 플랫폼 분석
- **velog**: 마크다운, 코드 하이라이팅, 태그, 시리즈
- **Medium**: 깔끔한 UI, WYSIWYG 에디터
- **Notion**: 블록 기반 에디터, 실시간 렌더링
- **GitHub Blog**: 정적 사이트, 마크다운

### 기술 스택 레퍼런스
- **마크다운 에디터**: react-markdown, react-simplemde-editor
- **코드 하이라이팅**: prism, highlight.js
- **OAuth**: passport-github, @nestjs/passport

---

**이 문서는 프로젝트 진행에 따라 지속적으로 업데이트됩니다.**
